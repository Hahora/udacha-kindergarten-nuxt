<template>
  <section class="relative py-16 lg:py-20">
    <div class="relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl">
      <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
      <div class="text-center mb-12 animate-fade-in-up">
        <h2
          class="text-3xl lg:text-4xl font-black text-gray-900 mb-4"
          style="font-family: &quot;315Karusel&quot;, cursive"
        >
          –û—Ç–∑—ã–≤—ã —Ä–æ–¥–∏—Ç–µ–ª–µ–π
        </h2>
        <div class="w-16 h-0.5 bg-amber-400 mx-auto"></div>
        <p class="text-gray-800 font-bold mt-4 max-w-2xl mx-auto text-lg">
          –ß—Ç–æ –≥–æ–≤–æ—Ä—è—Ç —Ä–æ–¥–∏—Ç–µ–ª–∏ –æ –Ω–∞—à–µ–º –¥–µ—Ç—Å–∫–æ–º —Å–∞–¥–µ
        </p>
      </div>

      <!-- –ö–∞—Ä—É—Å–µ–ª—å –æ—Ç–∑—ã–≤–æ–≤ -->
      <div class="relative animate-fade-in-up">
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
        <div class="relative overflow-hidden rounded-2xl">
          <!-- –°–ª–∞–π–¥—ã -->
          <div
            class="flex transition-transform duration-500 ease-in-out"
            :style="{ transform: `translateX(-${currentSlide * 100}%)` }"
          >
            <!-- –û—Ç–∑—ã–≤ -->
            <div
              v-for="(review, index) in reviews"
              :key="index"
              class="w-full flex-shrink-0 px-4"
            >
              <div
                class="bg-white/90 backdrop-blur-sm rounded-2xl p-6 lg:p-8 shadow-xl border border-white/50"
              >
                <!-- –ó–≤–µ–∑–¥—ã -->
                <div class="flex justify-center mb-4">
                  <div class="flex space-x-1">
                    <svg
                      v-for="star in 5"
                      :key="star"
                      class="w-6 h-6 text-amber-400"
                      fill="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                      />
                    </svg>
                  </div>
                </div>

                <!-- –¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞ -->
                <div class="text-center mb-6">
                  <p
                    class="text-gray-800 text-lg leading-relaxed italic font-bold"
                  >
                    "{{ review.text }}"
                  </p>
                </div>

                <!-- –ê–≤—Ç–æ—Ä -->
                <div class="flex items-center justify-center space-x-4">
                  <div
                    class="w-16 h-16 rounded-full overflow-hidden border-2 border-amber-400 shadow-lg"
                  >
                    <NuxtImg
                      :src="review.photo"
                      :alt="review.name"
                      class="w-full h-full object-cover"
                      width="64"
                      height="64"
                      loading="lazy"
                    />
                  </div>
                  <div class="text-left">
                    <p class="font-black text-gray-900">{{ review.name }}</p>
                    <p class="text-gray-600 text-sm font-bold">
                      {{ review.date }}
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
        <button
          @click="prevSlide"
          class="absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-4 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full shadow-xl flex items-center justify-center hover:bg-amber-50 transition-all duration-200 border border-white/50"
          :class="{ 'opacity-50 cursor-not-allowed': currentSlide === 0 }"
          :disabled="currentSlide === 0"
        >
          <svg
            class="w-6 h-6 text-gray-700"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M15 19l-7-7 7-7"
            />
          </svg>
        </button>

        <button
          @click="nextSlide"
          class="absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-4 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full shadow-xl flex items-center justify-center hover:bg-amber-50 transition-all duration-200 border border-white/50"
          :class="{
            'opacity-50 cursor-not-allowed':
              currentSlide === reviews.length - 1,
          }"
          :disabled="currentSlide === reviews.length - 1"
        >
          <svg
            class="w-6 h-6 text-gray-700"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 5l7 7-7 7"
            />
          </svg>
        </button>
      </div>

      <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã -->
      <div class="flex justify-center space-x-2 mt-8 animate-fade-in-up">
        <button
          v-for="(_, index) in reviews"
          :key="index"
          @click="currentSlide = index"
          class="w-3 h-3 rounded-full transition-all duration-200"
          :class="currentSlide === index ? 'bg-amber-500' : 'bg-gray-300'"
        ></button>
      </div>
    </div>
  </section>
</template>

<script setup>
// –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å–ª–∞–π–¥–∞
const currentSlide = ref(0);

// –î–∞–Ω–Ω—ã–µ –æ—Ç–∑—ã–≤–æ–≤
const reviews = [
  {
    name: "–ü–æ–ª—è –ú.",
    photo: "/images/otz/islands-retina-middle.png",
    text: "–†–µ–±–µ–Ω–æ–∫ —Ö–æ–¥–∏—Ç –≤ —Å–∞–¥ —Å –∞–ø—Ä–µ–ª—è. –ù–∞–ø–∏—à—É —Å–≤–æ–µ –º–Ω–µ–Ω–∏–µ: –æ–Ω–∞ –Ω–∞—É—á–∏–ª–∞—Å—å —Ö–æ–¥–∏—Ç—å –Ω–∞ –≥–æ—Ä—à–æ–∫( —É –º–µ–Ω—è –Ω–µ –ø–æ–ª—É—á–∞–ª–æ—Å—å –ø—Ä–∏—É—á–∏—Ç—å), –ø—Ä–∏–Ω–µ—Å–ª–∞ –º–Ω–æ–≥–æ –Ω–æ–≤—ã—Ö —Å–ª–æ–≤, —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã—Ö –¥–≤–∏–∂–µ–Ω–∏–π, –≤—ã—Ö–æ–¥–∏—Ç –∏ –∑–∞—Ö–æ–¥–∏—Ç —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º. –í–æ—Å–ø–∏—Ç–∞—Ç–µ–ª–∏ –æ—á–µ–Ω—å –ø—Ä–∏–≤–µ—Ç–ª–∏–≤—ã–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å –∫–∞–∫–∞—è-—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è —Å —Ä–µ–±–µ–Ω–∫–æ–º- –≤—Å–µ —Å–¥–µ–ª–∞—é—Ç. –ú–µ–Ω—è –Ω–µ —Å–º—É—â–∞–µ—Ç —Ç–æ, —á—Ç–æ –≤—Å–µ –¥–µ—Ç–∏ –≤–º–µ—Å—Ç–µ, —ç—Ç–æ –∫–∞–∫ –æ–¥–Ω–∞ –±–æ–ª—å—à–∞—è —Å–µ–º—å—è, —Ç–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç —Å–∞–¥–∞. –¢–æ, —á—Ç–æ –º–æ–∂–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ —Å ¬´–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º–∏¬ª –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏, –∫–æ–≥–¥–∞ —Ä–µ–±–µ–Ω–æ–∫ —É–∂–µ –Ω–µ –∑–∞—Ä–∞–∑–Ω—ã–π- –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –¥–µ—Ç–∏ –¥–æ–ª–∂–Ω—ã –æ–±–º–µ–Ω—è—Ç—å—Å—è –≤—Å–µ–º–∏ –±–∞–∫—Ç–µ—Ä–∏—è–º–∏, —á—Ç–æ –±—ã —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏–º–º—É–Ω–∏—Ç–µ—Ç. –í—Å–µ–º –Ω–µ —É–≥–æ–¥–∏—à—å –≤–∏–¥–∏–º–æüíÅüèº‚Äç‚ôÄÔ∏è –í –æ–±—â–µ–º, —É –º–æ–µ–π –¥–æ—á–∫–∏ –º–Ω–æ–≥–æ —É–º–µ–ª–æ–∫, –∑–∞ —á—Ç–æ –±–ª–∞–≥–æ–¥–∞—Ä—é –∫–æ–ª–ª–µ–∫—Ç–∏–≤ –Ω–∞ –¢–µ–º–µ—Ä–Ω–∏—Ü–∫–æ–π 65 ü•∞",
    date: "08.11.2025",
  },
  {
    name: "–ê–ª—ë–Ω–∞ –ì—Ä–µ—á–∫–æ",
    photo: "/images/otz/islands-retina-middle-2.png",
    text: "–°—ã–Ω —Ö–æ–¥–∏—Ç —Ç—É–¥–∞ —É–∂–µ 6 –º–µ—Å—è—Ü–µ–≤. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–ª—Å—è –±—ã—Å—Ç—Ä–æ –±–ª–∞–≥–æ–¥–∞—Ä—è –ö–∞—Ç–µ) –ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–ª–ª–µ–∫—Ç–∏–≤, –≤–µ–∂–ª–∏–≤—ã–µ –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–µ –≤–æ—Å–ø–∏—Ç–∞—Ç–µ–ª–∏! –¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è –Ω–µ–±–æ–ª—å—à–∞—è, –Ω–æ –≤—Å–µ–≥–¥–∞ —á–∏—Å—Ç–∞—è, –µ—Å—Ç—å –∏–≥—Ä—É—à–∫–∏, –≥–æ—Ä–∫–∏, –±–µ—Å–µ–¥–∫–∞, –¥–æ–º–∏–∫. –î–µ—Ç–∏ –Ω–∞ —É–ª–∏—Ü–µ –Ω–µ —Å–∫—É—á–∞—é—Ç. –í–Ω—É—Ç—Ä–∏ —Ç–æ–∂–µ —Å–ª–µ–¥—è—Ç –∑–∞ —á–∏—Å—Ç–æ—Ç–æ–π. –ß–∞—Å—Ç–æ —É—Å—Ç—Ä–∞–∏–≤–∞—é—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏. –ì—Ä—É–ø–ø—ã –Ω–µ–±–æ–ª—å—à–∏–µ, –≤—Å–µ–º –¥–µ—Ç—è–º —É–¥–µ–ª—è—é—Ç –≤–Ω–∏–º–∞–Ω–∏–µ. –ö–æ–≥–¥–∞ —Ä–µ–±–µ–Ω–æ–∫ —Ç–æ—Å–∫—É–µ—Ç –ø–æ –º–Ω–µ –µ–≥–æ —É—Ç–µ—à–∞—é—Ç –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç! –Ø –æ—á–µ–Ω—å –±–ª–∞–≥–æ–¥–∞—Ä–Ω–∞ –∑–∞ —Ö–æ—Ä–æ—à–µ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É!",
    date: "22.10.2025",
  },
  {
    name: "–í–∏–∫—Ç–æ—Ä–∏—è –ö.",
    photo: "/images/otz/islands-middle-3.png",
    text: "–ß—É–¥–µ—Å–Ω—ã–π —Å–∞–¥–∏–∫, —É—é—Ç–Ω—ã–π, –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π! –ü–ª–æ—â–∞–¥–∫–∞ –ø—Ä–æ–¥—É–º–∞–Ω–∞ –∏ –≤—Å—è –≤ —Ç–µ–Ω–∏, –≥–æ—Ç–æ–≤—è—Ç –∫—É—à–∞—Ç—å –≤–∫—É—Å–Ω–æ, —Ä–µ–±–µ–Ω–∫—É –Ω—Ä–∞–≤–∏—Ç—Å—èüëç–æ—Ñ–æ—Ä–º–ª—è—é—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ, –∏–º–µ—é—Ç –ª–∏—Ü–µ–Ω–∑–∏—éüëå—Ä–µ–∫–æ–º–µ–Ω–¥—É—é!",
    date: "01.11.2025",
  },
];

// –§—É–Ω–∫—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
const nextSlide = () => {
  if (currentSlide.value < reviews.length - 1) {
    currentSlide.value++;
  }
};

const prevSlide = () => {
  if (currentSlide.value > 0) {
    currentSlide.value--;
  }
};

// –ê–≤—Ç–æ–ø—Ä–æ–∫—Ä—É—Ç–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
onMounted(() => {
  setInterval(() => {
    if (currentSlide.value < reviews.length - 1) {
      currentSlide.value++;
    } else {
      currentSlide.value = 0;
    }
  }, 5000); // –°–º–µ–Ω–∞ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
});
</script>

<style scoped>
.animate-fade-in-up {
  animation: fadeInUp 0.6s ease-out both;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style>
